
<%- include('partials/head') %>



<body>
  
        
                        
          <div class="d-flex justify-content-center">
                    <a href=""><img style="width: 300px; height: 200px;" src="/user/imgs/theme/logo.png" alt="logo"></a>
          </div>
          <div class="container">
                    <div class="row">
                              
                        <div class="col-md-2">
                            <span>From:</span>
                            <div class="datepicker date input-group p-0 shadow-sm" style="width: 150px;">
                                <input id="fromDate" type="text" placeholder="Choose a date" class="form-control py-4 px-4" />
                                <div class="input-group-append">
                                    <span class="input-group-text px-4">
                                        <i class="fa fa-calendar"></i>
                                    </span>
                                </div>
                            </div>
                            <div class="container">
                                <p id="showFromDate">From :</p>
                                <input id="inputFrom" type="text" value="" hidden>
                            </div>
                        </div>
                
                        <div class="col-md-6">
                            <span>To:</span>
                            <div class="datepicker date input-group p-0 shadow-sm" style="width: 150px;">
                                <input id="toDate" type="text" placeholder="Choose a date" class="form-control py-4 px-4" />
                                <div class="input-group-append">
                                    <span class="input-group-text px-4">
                                        <i class="fa fa-calendar"></i>
                                    </span>
                                </div>
                            </div>
                            <div class="container">
                                <p id="showToDate">To :</p>
                                <input id="inputTo" type="text" value="" hidden>
                            </div>
                        </div>
           
                  
                    </div>
                    <button style="width: 100px;" id="goButton" onclick="getReport()" type="submit" class="btn btn-primary">Go</button>
                </div>
               
                <script>
                    $(".datepicker").datepicker({
                        clearBtn: true,
                        format: "dd/mm/yyyy",
                    });
                
                    $("#fromDate, #toDate").on("change", function() {
                        let from = $("#fromDate").val();
                        let to = $("#toDate").val();
                        $("#showFromDate").text(`${from}`);
                        $("#inputFrom").text(`${from}`);
                        $("#showToDate").text(`${to}`);
                        $("#inputTo").text(`${to}`);
                    });
                </script>
                
          
          <section class="mt-50 mb-50">

                            
                      
                    
                
               
                    <div class="container">
                              
                       
                        <div style="margin-top: -70px;" class="row">
                              <div class="col-lg-3 col-sm-6">
                              
                                       
                              </div></div></section>


  
        <section class="mt-50 mb-50">
        
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="table-responsive">
                            <table class="table shopping-summery text-center clean">
                                <thead>
                                    <tr class="main-heading">
                                        <th scope="col">Date</th>
                                        <th scope="col">Revenue</th>
                                        <th scope="col">Order</th>
                                        <th scope="col">Average order Value</th>
                                    
                                    </tr>
                                </thead>
                                <tbody>
                                        <% if(report && report.length > 0){ %>
                                        <% for(let i=0; i<report.length; i++) { %>
                                        <tr>
                                    <td><%= report[i].orderDate%></td>
                                    </tr>
                                           <% }  } %>
                                </tbody>
                                
                                
                            </table>
                            <div class=" p-md-4 p-30 border-radius cart-totals">
                              <div class="heading_s1 mb-3">
                                  <h4>Bill Totals</h4>
                              </div>
                           
                              
                                  <table class="table">
                                      <tbody>
                                          <tr>
                                              <td class="cart_total_label">Bill Subtotal</td>
                                              <td>Free</td>

                                          </tr>
                                          <tr>
                                              <td class="cart_total_label">Shipping </td>
                                              <td class="cart_total_amount"> <i class="ti-gift mr-5"></i> Free Shipping</td>
                                          </tr>
                                          <tr>
                                              <td class="cart_total_label">Total</td>
                                              <td>free</td>

                                              <input type="number" name="totalamountcheckout" value="" id="totalinputfield" hidden>
                                          </tr>
                                      </tbody>
                                  </table>
                              </div>
                        </div>

                        <div class="table-responsive">
                              <table class="table shopping-summery text-center clean">
                                  <thead>
                                      <tr class="main-heading">
                                          <th scope="col">Product</th>
                                          <th scope="col">Quantity sold</th>
                                          <th scope="col">Total Amount</th>
                                        
                                      </tr>
                                  </thead>
                                  <tbody>
                                      
                                             
                                  </tbody>
                                  
                                  
                              </table>
                              <div class=" p-md-4 p-30 border-radius cart-totals">
                                        <div class="heading_s1 mb-3">
                                            <h4>Bill Totals</h4>
                                        </div>
                                     
                                        
                                            <table class="table">
                                                <tbody>
                                                    <tr>
                                                        <td class="cart_total_label">Bill Subtotal</td>
    
                                                    </tr>
                                                    <tr>
                                                        <td class="cart_total_label">Shipping</td>
                                                        <td class="cart_total_amount"> <i class="ti-gift mr-5"></i> Free Shipping</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="cart_total_label">Total</td>
    
                                                        <input type="number" name="totalamountcheckout" value="" id="totalinputfield" hidden>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                          </div>
                      


                       
                        <div class="divider center_icon mt-50 mb-50"></div>
                        <div class="row mb-50">
                            
                                   
                               
                             
                            </div>
                            <div class="col-lg-12 col-md-12">
                                <div class="border p-md-4 p-30 border-radius cart-totals">
                                    <div class="heading_s1 mb-3">
                                        <h4>Bill Totals</h4>
                                    </div>
                                 
                                    
                                        <table class="table">
                                            <tbody>
                                                <tr>
                                                    <td class="cart_total_label">Bill Subtotal</td>

                                                </tr>
                                                <tr>
                                                    <td class="cart_total_label">Shipping</td>
                                                    <td class="cart_total_amount"> <i class="ti-gift mr-5"></i> Free Shipping</td>
                                                </tr>
                                                <tr>
                                                    <td class="cart_total_label">Total</td>

                                                    <input type="number" name="totalamountcheckout" value="" id="totalinputfield" hidden>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                   <div class="row">
                                        <div class="col-2">
                                    <input type="button" id="printbtn" onclick="window.print()" style="background-color: rgb(6, 75, 12); color: white; border: none; padding: 10px 20px; cursor: pointer;" value="Print Invoice">
                              </div>
                                   
                                   
                                 
                                
                               
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </form>
        </section>
    </main>
   
  
    <!-- Preloader Start -->
    <div id="preloader-active">
        <div class="preloader d-flex align-items-center justify-content-center">
            <div class="preloader-inner position-relative">
                <div class="text-center">
                    <h5 class="mb-5">Now Loading</h5>
                    <div class="loader">
                        <div class="bar bar1"></div>
                        <div class="bar bar2"></div>
                        <div class="bar bar3"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>

    


    </script>
   <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

   <script>
     async function getReport() {
       try {
         const fromDate = document.getElementById('showFromDate').innerHTML;
         const toDate = document.getElementById('showToDate').innerHTML;
   
         const requestBody = {
           fromDate,
           toDate
         };
   
         const response = await fetch('/admin/getReport', {
           method: 'POST',
           headers: {
             'Content-Type': 'application/json'
           },
           body: JSON.stringify(requestBody)
         });
   
         if (!response.ok) {
           throw new Error('Failed to fetch data');
         }
       
         const data = await response.json();
    
          window.location.href = '/admin/getReportResults'
         
   
       } catch (error) {

         console.error('Error:', error);
   
       
         if (error.message === 'Failed to fetch data') {
           Swal.fire({
             icon: 'error',
             title: 'Invalid Date Range',
             text: 'From date cannot be greater than to date',
             showConfirmButton: true
           });
         }
       }
     }
   </script>
        

    <!-- Vendor JS-->
    <script src="/user/js/vendor/modernizr-3.6.0.min.js"></script>
    <script src="/user/js/vendor/jquery-3.6.0.min.js"></script>
    <script src="/user/js/vendor/jquery-migrate-3.3.0.min.js"></script>
    <script src="/user/js/vendor/bootstrap.bundle.min.js"></script>
    <script src="/user/js/plugins/slick.js"></script>
    <script src="/user/js/plugins/jquery.syotimer.min.js"></script>
    <script src="/user/js/plugins/wow.js"></script>
    <script src="/user/js/plugins/jquery-ui.js"></script>
    <script src="/user/js/plugins/perfect-scrollbar.js"></script>
    <script src="/user/js/plugins/magnific-popup.js"></script>
    <script src="/user/js/plugins/select2.min.js"></script>
    <script src="/user/js/plugins/waypoints.js"></script>
    <script src="/user/js/plugins/counterup.js"></script>
    <script src="/user/js/plugins/jquery.countdown.min.js"></script>
    <script src="/user/js/plugins/images-loaded.js"></script>
    <script src="/user/js/plugins/isotope.js"></script>
    <script src="/user/js/plugins/scrollup.js"></script>
    <script src="/user/js/plugins/jquery.vticker-min.js"></script>
    <!-- Template  JS -->
    <script src="/user/js/maind134.js?v=3.4"></script>
    <script src="/user/js/shopd134.js?v=3.4"></script>






  




  
  
  
  
      
      
  
      
      
      
      

</body>


<!-- Mirrored from wp.alithemes.com/html/evara/evara-frontend/shop-cart.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 15 Jul 2023 10:10:07 GMT -->
</html>