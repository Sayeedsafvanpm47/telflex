
<%- include('partials/head') %>



<body>
  
        <div class="container d-block justify-content-start " id="container">
                        
          <div class="d-flex justify-content-center">
                    <a href=""><img style="width: 300px; height: 200px;" src="/user/imgs/theme/logo.png" alt="logo"></a>
          </div>
          <div class="d-block text-center">
          <h1><%= reportType  %></h1>
          <p><%= from  %> - <%= to  %></p>
        </div>
          <div class="">
                    <div class="row hide-on-print">
                      
                              
                        <div class="col-md-3">
                            <span>From: <%= from  %></span>
                            <div class="datepicker date input-group p-0 shadow-sm" style="width: 300px;">
                                <input id="fromDate" type="text" placeholder="Choose a date" class="form-control py-4 px-4" />
                                <div class="input-group-append">
                                    <span class="input-group-text px-4">
                                        <i class="fa fa-calendar"></i>
                                    </span>
                                </div>
                            </div>
                            <div class="">
                                <p id="showFromDate" hidden>From : <%= from  %></p>
                                <input id="inputFrom" type="text" value="" hidden>
                            </div>
                        </div>
                
                        <div class="col-md-3 ml-60">
                            <span>To: <%= to %></span>
                            <div class="datepicker date input-group p-0 shadow-sm" style="width: 300px;">
                                <input id="toDate" type="text" placeholder="Choose a date" class="form-control py-4 px-4" />
                                <div class="input-group-append">
                                    <span class="input-group-text px-4">
                                        <i class="fa fa-calendar"></i>
                                    </span>
                                </div>
                            </div>
                            <div class="">
                                <p id="showToDate" hidden>To :</p>
                                <input id="inputTo" type="text" value="" hidden>
                            </div>
                        </div>
                        <div>
                        <select style="width: 300px; margin-top: 10px;" class="custom-select" name="typeOfReport" id="typeOfReport" onchange="setDateRange()">
                            <option value="daily">Get Daily Report</option>
                            <option value="weekly">Get Weekly Report</option>
                            <option value="monthly">Get Monthly Report</option>
                            <option value="yearly">Get Yearly Report</option>
                        </select>
                    </div>
                        
           
                  
                    </div>
                    <div class="hide-on-print mt-20">
                    <button  style="width: 300px;" id="goButton" onclick="getReport()" type="submit" class="btn btn-primary ">Go</button>
                </div>
                </div>
               
                <script src="/admin/helpers/salesreport.js">
                  
                </script>
                
          
          <section class="mt-50 mb-50">

                            
                      
                    
                
               
                    <div class="">
                              
                       
                        <div style="margin-top: -70px;" class="row">
                              <div class="col-lg-3 col-sm-6">
                              
                                       
                              </div></div></section>


  
        <section class="mt-50 mb-50">
        
            <div class="">
                <div class="row">
                    <div class="col-12">
                        <div class="table-responsive">
                            
                            <div class=" p-md-4 p-30 border-radius cart-totals">
                              <div class="heading_s1 mb-3">
                                  <h4>Order Overview</h4>
                              </div>
                           
                              
                                  <table class="" id="testtable">
                                      <tbody>
                                        <% if(productsRevenue&& productsRevenue.length > 0){ %>
                                          <tr>
                                              <td class="cart_total_label">Date</td>
                                              <td>  <%= from  %> - <%= to  %> </td>

                                          </tr>
                                          <tr>
                                              <td class="cart_total_label">Revenue </td>
                                              <td><%= revenue[0].totalEarnings  %></td>
                                          </tr>

                                          <tr>
                                            <td class="cart_total_label">Order </td>
                                            <td><%= revenue[0].totalOrders  %></td>
                                        </tr>



                                          <tr>
                                              <td class="cart_total_label">Average Order Value</td>
                                              <td><%= parseInt(revenue[0].totalEarnings / revenue[0].totalOrders) %></td>

                                             
                                          </tr>
                                          <% } %>
                                      </tbody>
                                  </table>
                              </div>
                        </div>

                        <div class="table-responsive" id="testtable2">
                            <table class="table shopping-summery text-center clean bordered-table">
                                <thead>
                                    <tr class="main-heading">
                                        <th scope="col">Product Id</th>
                                        <th scope="col">Product Name</th>
                                        <th scope="col">Quantity sold</th>
                                        <th scope="col">Total Amount</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <% if(productsRevenue && productsRevenue.length > 0){ %>
                                        <% for(let i=0; i<productsRevenue.length; i++){ %>
                                            <tr>
                                                <td><%= productsRevenue[i]._id  %></td>
                                                <td><%= productsRevenue[i].productName  %></td>
                                                <td><%= productsRevenue[i].totalQuantity  %></td>
                                                <td><%= productsRevenue[i].totalRevenue %></td>
                                            </tr>
                                        <% } %>
                                    <% } else { %>
                                        <tr>
                                            <td colspan="4" class="text-center">No reports yet</td>
                                        </tr>
                                    <% } %>
                                </tbody>
                            </table>
                        </div>
                        
                      


                       
                        <div class="divider center_icon mt-50 mb-50"></div>
                        <div class="row mb-50">
                            
                                   
                               
                             
                            </div>
                            <div class="col-lg-12 col-md-12">
                                <div class="border p-md-4 p-30 border-radius cart-totals">
                                    <div class="heading_s1 mb-3">
                                        <h4>Profit Details</h4>
                                    </div>
                                 
                                    
                                        <table class="table" id="testtable3">
                                            <tbody>
                                                <% if(profit && profit.length>0){%>
                                                <tr>
                                                    <td class="cart_total_label">Total Revenue</td>
                                                    <td><%= profit[0].totalRevenue  %></td>

                                                </tr>
                                                <tr>
                                                    <td class="cart_total_label">Total Cost </td>
                                                    <td><%= profit[0].totalCost  %></td>
                                                </tr>
                                                <tr>
                                                    <td class="cart_total_label">Gross Profit</td>
                                                    <td><%= profit[0].totalProfit  %></td>

                                                    <input type="number" name="totalamountcheckout" value="" id="totalinputfield" hidden>
                                                </tr>
                                                <% }else{ %>
                                                    <p>No details available</p>
                                                    <% } %>
                                            </tbody>
                                        </table>
                                    </div>
                                   <div class="row">
                                        <div class="col-2 hide-on-print d-flex">
                                            <button class="btn btn-primary custom-btn" type="button" style="margin-top: 10px;" id="printButton">Print Invoice</button>

                                            <button class="btn btn-danger custom-btn" style="margin-left: 20px; margin-top: 10px;" onclick="download()">Download Excel</button>
                                            
                                            
                                </div>
                                   
                                   
                                 
                                
                               
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </form>
        </section>
    </main>
</div>
   
  
 

    <script>
      
        </script>
   <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

 

        

 





  




  
  
  
  
      
      
  
   <%- include('partials/script') %>
      
      
      

</body>


<!-- Mirrored from wp.alithemes.com/html/evara/evara-frontend/shop-cart.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 15 Jul 2023 10:10:07 GMT -->
</html>